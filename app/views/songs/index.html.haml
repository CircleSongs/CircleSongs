= search_form_for @q, html: { novalidate: true } do |f|
  .row.mb-3
    .col-sm-2.offset-sm-2
      = f.input :categories_id_in, collection: @categories, include_blank: 'All', label: 'Category', required: false, label_method: :name_and_count
    .col-sm-2
      = f.input :languages_id_in, collection: Language.all, include_blank: 'All', label: 'Language', required: false
    .col-sm-2
      = f.input :chords_present, collection: [['Yes', true], ['No', false]], include_blank: 'All', label: 'Has Chords', required: false
    - if feature_enabled? :tagging
      .col-sm-2
        = f.input :themes_name_in, collection: ActsAsTaggableOn::Tag.for_context(:themes).pluck(:name).uniq, include_blank: 'All', label: 'Theme', required: false, input_html: { multiple: false }
    .col-sm-2
      = f.input :s, collection: [['Title', 'title asc'], ['Date Added', 'created_at desc']], label: 'Sort by', required: false, include_blank: false, selected: songs_sort_value

  .row.mb-3
    .col-sm-8.offset-sm-2
      .input-group
        = f.input_field :title_or_lyrics_or_composer_name_cont, class: 'form-control', placeholder: t('songs.search_placeholder')
        = f.button :submit, class: 'btn btn-primary'
        = link_to 'Clear', songs_path, class: 'btn btn-secondary'

  .row.mb-3
    .col-sm-8.offset-sm-2
      = paginate @songs

  .row
    .col-sm-12
      %ul.songs
        - if @songs.empty?
          %li= t 'songs.no_songs'
        - else
          = render @songs

  .row.mt-3
    .col-sm-8.offset-sm-2
      = paginate @songs
