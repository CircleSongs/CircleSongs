.search-strip
  .container
    = form_with url: songs_path, method: :get, html: { class: 'search-strip__inner', role: 'search', 'aria-label': 'Song search' } do |f|
      = f.label 'q[title_or_lyrics_or_composer_name_cont]', 'Search', class: 'sr-only', id: 'song-search-label'
      = f.text_field 'q[title_or_lyrics_or_composer_name_cont]', id: 'song-search', class: 'search-input', type: 'search', placeholder: t('songs.search_placeholder')
      = f.button 'Search Songs', class: 'search-btn btn btn--wide btn--inline', type: 'submit'

%main
  -# Hero
  %section.hero{"aria-label" => "Featured hero"}
    .hero__bg{"aria-hidden" => "true"}
      = image_tag vite_asset_path('images/hero-bg.jpg'), alt: "Etheral Hallway"
    -# TODO Replace with random image from backend hero section
    .container.reset--mobile
      .hero__inner.section
        .grid
          .col-8
            %aside.featured.featured--half{"aria-label" => "Featured song"}
              .featured__label Featured Song
              .featured__inner
                .swiper-pagination
                .swiper{"data-featured-swiper" => ""}
                  .swiper-wrapper
                    - @featured_songs.each do |song|
                      .swiper-slide
                        %h3.featured__title.h2.ruled
                          = song.title
                          .featured__meta= song.composer&.name || 'Traditional'
                          .featured__excerpt
                            - if song.lyrics.present?
                              = truncate(song.lyrics, length: 150, separator: "\n")
                          .featured__row
                            = link_to 'View Song', song_path(song), class: 'btn'

  %section.section.main-texture{"aria-label" => "Explore collections"}
    .container
      .grid.grid--equal-height-cols
        .col-5
          = render 'layouts/categories', categories: @categories
        .col-6
          = render 'layouts/themes', themes: @themes
        .col-5
          = render 'layouts/playlists', playlists: @playlists

  -# About
  %section.section{"aria-label" => "About MedicineSongs.net"}
    .container
      .grid
        .col-12.col-center
          %h1 About MedicineSongs.net
          %p
            Welcome to Medicine Songs, a sacred collection of music from healing traditions around the
            world. Our intention is to preserve and share these powerful songs that have been used for
            ceremony and spiritual connection. We honor the many cultural traditions, tribes, teachers,
            as well as living composers who have shared these songs with reverence and gratitude, in
            service to a more loving, liberated world.
          %p
            This database serves as a resource for practitioners, ceremony leaders, and anyone called to
            work with sacred music. You can search by song title, composer, theme, or browse our curated
            collections and playlists.
          %p
            We believe in the power of music to heal, unite, and transform. May these songs support your
            journey and benefit all beings.

          %h2 Who We Are
          %p
            This site is
            = link_to 'by a consortium', '/who_we_are'
            of musicians devoted to sharing songs in
            ceremonial spaces. We do not profit financially from this project and offer it in the spirit
            of devotion and community-building. If you'd like to see this resource keep flowering, we
            are very grateful for your donations and songbook purchase. These sources of support
            directly enable us to improve and expand this site. Thank you!

  %section.secret-door{"aria-label" => "Illustration band"}
    = image_tag vite_asset_path('images/secret-door.jpg'), alt: "", loading: 'lazy'
    = link_to '', sacred_password_path, class: 'secret-door-link'
